<div class="loginContainer" *ngIf="fireService.auth.currentUser==null" >
  <div class="email">
    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label>Email</mat-label>
      <input [(ngModel)]="email" matInput>
    </mat-form-field>
  </div>

  <div class="password">
    <mat-form-field appearance="fill" class="example-full-width">
      <mat-label>Password</mat-label>
      <input [(ngModel)]="password" matInput type="password">
    </mat-form-field>
  </div>

  <div class="buttonsDIV">
    <button mat-flat-button id="btnLogin" color="primary" (click)="fireService.signIn(email, password)">Sign in</button>

    <button mat-flat-button id="btnRegister" color="primary" (click)="fireService.register(email, password)">Sign up</button>
  </div>
</div>


<div class="LogindPage" *ngIf="fireService.auth.currentUser">
  <div class="singOut">
    <button mat-raised-button color="stroked" (click)="fireService.signOut()" >sign out</button>
  </div>

  <h1>welcome, {{fireService.auth.currentUser.email}}
    <img (click)="fileInput.click()" style="max-height: 60px;" [src]="fireService.currentlySignedInUserImageURL" alt="">
    <input (change)="fireService.updateUserImage($event)" hidden #fileInput type="file">
  </h1>

  <p>
    <mat-form-field appearance="fill">
      <mat-label>write your message</mat-label>
      <input matInput [(ngModel)]="sendThisMessage">
      <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
    </mat-form-field><br>
    <button mat-raised-button color="primary"(click)="fireService.sendMessage(sendThisMessage)">send message</button>
  </p>

  <mat-card style="margin-top: 50px;" *ngFor="let m of fireService.messages" (click)="toggleExpand(m)">
    <mat-card-title style="display: inline;">{{m.name}}</mat-card-title>
    <mat-icon style="display: inline; float: left;" *ngIf="m.expanded!=true">keyboard_arrow_down</mat-icon>
    <mat-icon style="display: inline; float: left;" *ngIf="m.expanded==true">keyboard_arrow_up</mat-icon>
    <div *ngIf="m.expanded==true">
      <mat-card-content class="message"> <label id="iconM">ðŸ’¬</label><h2>{{m.data.messageContent}} </h2></mat-card-content>
      <mat-card-content>{{m.data.timestamp.toDate()}}</mat-card-content>
      <mat-card-content>by: {{m.data.user}}</mat-card-content>
      <mat-card-actions>
        <br>
        <button mat-raised-button color="accent" (click)="deleteMessageByID(m.id)">Delete message</button><br>
      </mat-card-actions>
    </div>
  </mat-card>


  <!--
  <p *ngFor="let m of fireService.messages">
    {{m | json}}
  </p> --->

</div>



